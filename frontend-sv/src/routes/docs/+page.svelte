<script lang="ts">
	import { onMount } from 'svelte';
	import { Book, Home, ExternalLink } from 'lucide-svelte';
</script>

<svelte:head>
	<title>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - Webhook Viewer | GREEN-API QA TEAM</title>
</svelte:head>

<div class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
	<!-- Header -->
	<header class="bg-white shadow-md border-b border-gray-200 sticky top-0 z-50">
		<div class="max-w-6xl mx-auto px-4 py-4 sm:px-6 lg:px-8">
			<div class="flex items-center justify-between">
				<div class="flex items-center gap-4">
					<svg width="50" height="50" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
						<rect width="100" height="100" rx="12" fill="#3B9702"/>
						<text x="50" y="70" font-family="Arial, sans-serif" font-size="60" font-weight="bold" fill="white" text-anchor="middle">G</text>
					</svg>
					<div>
						<h1 class="text-2xl font-bold text-gray-900">Webhook Viewer API</h1>
						<p class="text-xs text-green-600 font-semibold">Documentation</p>
					</div>
				</div>
				<div class="flex items-center gap-4">
					<a href="/" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-sm font-medium transition">
						‚Üê Viewer
					</a>
					<a href="https://green-api.com" target="_blank" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition shadow-sm">
						GREEN-API ‚Üí
					</a>
				</div>
			</div>
		</div>
	</header>

	<!-- Main Content -->
	<main class="max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
		<!-- Introduction -->
		<section class="bg-white rounded-lg shadow-md p-8 mb-8 animate-fade-in">
			<h2 class="text-3xl font-bold text-gray-900 mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Webhook Viewer API</h2>
			<p class="text-gray-700 mb-4 text-lg">
				Webhook Viewer ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ webhook'–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–∞–Ω–¥–æ–π <span class="text-green-600 font-semibold">GREEN-API QA TEAM</span>.
			</p>
			<p class="text-gray-600 mb-6">
				–° –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ API –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è –ø—Ä–∏–µ–º–∞ webhook'–æ–≤, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–º–∏.
			</p>

			<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
				<h3 class="font-semibold text-blue-900 mb-2">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h3>
				<ol class="list-decimal list-inside text-blue-800 space-y-2">
					<li>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É —á–µ—Ä–µ–∑ POST –∑–∞–ø—Ä–æ—Å –Ω–∞ <code class="bg-blue-100 px-2 py-1 rounded">/room/&#123;id&#125;</code></li>
					<li>–ü–æ–ª—É—á–∏—Ç–µ URL –¥–ª—è –ø—Ä–∏–µ–º–∞ webhook'–æ–≤</li>
					<li>–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ webhook'—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL</li>
					<li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ GET –∑–∞–ø—Ä–æ—Å –Ω–∞ <code class="bg-blue-100 px-2 py-1 rounded">/hook/&#123;id&#125;</code></li>
				</ol>
			</div>
		</section>

		<!-- Room Management -->
		<section class="bg-white rounded-lg shadow-md p-8 mb-8">
			<h2 class="text-2xl font-bold text-gray-900 mb-6">üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏</h2>

			<!-- Create Room -->
			<div class="mb-8 border-b pb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-blue-600 text-white rounded text-sm font-semibold">POST</span>
					<code class="text-lg font-mono text-gray-800">/room/&#123;id&#125;</code>
				</div>
				<p class="text-gray-600 mb-4">–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É –¥–ª—è –ø—Ä–∏–µ–º–∞ webhook'–æ–≤.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X POST http://localhost:6005/room/my-test-room \
  -H "Authorization: Bearer YOUR_TOKEN"</code></pre>
				</div>

				<div class="mt-4 bg-green-50 p-4 rounded-lg">
					<p class="text-sm font-semibold text-green-900 mb-2">‚úì Response 200:</p>
					<pre class="text-sm text-green-800"><code>&#123;
  "message": "Room created",
  "roomId": "my-test-room",
  "webhookUrl": "http://localhost:6005/hook/my-test-room"
&#125;</code></pre>
				</div>
			</div>

			<!-- Delete Room -->
			<div class="mb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-red-600 text-white rounded text-sm font-semibold">DELETE</span>
					<code class="text-lg font-mono text-gray-800">/room/&#123;id&#125;</code>
				</div>
				<p class="text-gray-600 mb-4">–£–¥–∞–ª—è–µ—Ç –∫–æ–º–Ω–∞—Ç—É –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ webhook'–∏.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X DELETE http://localhost:6005/room/my-test-room \
  -H "Authorization: Bearer YOUR_TOKEN"</code></pre>
				</div>
			</div>
		</section>

		<!-- Webhooks -->
		<section class="bg-white rounded-lg shadow-md p-8 mb-8">
			<h2 class="text-2xl font-bold text-gray-900 mb-6">üì® –†–∞–±–æ—Ç–∞ —Å Webhook'–∞–º–∏</h2>

			<!-- Send Webhook -->
			<div class="mb-8 border-b pb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-blue-600 text-white rounded text-sm font-semibold">POST</span>
					<code class="text-lg font-mono text-gray-800">/hook/&#123;roomId&#125;</code>
				</div>
				<p class="text-gray-600 mb-4">–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook –≤ –∫–æ–º–Ω–∞—Ç—É.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X POST http://localhost:6005/hook/my-test-room \
  -H "Content-Type: application/json" \
  -d '&#123;"message": "Hello World", "timestamp": "2025-01-01T00:00:00Z"&#125;'</code></pre>
				</div>
			</div>

			<!-- Get All Webhooks -->
			<div class="mb-8 border-b pb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-green-600 text-white rounded text-sm font-semibold">GET</span>
					<code class="text-lg font-mono text-gray-800">/hook/all/&#123;roomId&#125;</code>
				</div>
				<p class="text-gray-600 mb-4">–ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ webhook'–∏ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl http://localhost:6005/hook/all/my-test-room \
  -H "Authorization: Bearer YOUR_TOKEN"</code></pre>
				</div>
			</div>

			<!-- Delete Webhooks -->
			<div class="mb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-red-600 text-white rounded text-sm font-semibold">DELETE</span>
					<code class="text-lg font-mono text-gray-800">/hook/delete/&#123;roomId&#125;</code>
				</div>
				<p class="text-gray-600 mb-4">–£–¥–∞–ª—è–µ—Ç –≤—Å–µ webhook'–∏ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X DELETE http://localhost:6005/hook/delete/my-test-room \
  -H "Authorization: Bearer YOUR_TOKEN"</code></pre>
				</div>
			</div>
		</section>

		<!-- Fake Errors -->
		<section class="bg-white rounded-lg shadow-md p-8 mb-8">
			<h2 class="text-2xl font-bold text-gray-900 mb-6">‚ö†Ô∏è –°–∏–º—É–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫</h2>

			<div class="mb-8">
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-blue-600 text-white rounded text-sm font-semibold">POST</span>
					<code class="text-lg font-mono text-gray-800">/room/&#123;id&#125;/fake-error</code>
				</div>
				<p class="text-gray-600 mb-4">–í–∫–ª—é—á–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é HTTP –æ—à–∏–±–æ–∫ –¥–ª—è webhook'–æ–≤.</p>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X POST http://localhost:6005/room/my-test-room/fake-error \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '&#123;"enabled": true, "statusCode": 500&#125;'</code></pre>
				</div>

				<div class="mt-4 bg-yellow-50 p-4 rounded-lg">
					<p class="text-sm text-yellow-900">
						<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏, –≤—Å–µ webhook'–∏ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–π HTTP –∫–æ–¥.
					</p>
				</div>
			</div>
		</section>

		<!-- Auth -->
		<section class="bg-white rounded-lg shadow-md p-8">
			<h2 class="text-2xl font-bold text-gray-900 mb-6">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>

			<div class="mb-6">
				<h3 class="text-lg font-semibold text-gray-800 mb-3">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-blue-600 text-white rounded text-sm font-semibold">POST</span>
					<code class="text-lg font-mono text-gray-800">/auth/register</code>
				</div>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X POST http://localhost:6005/auth/register \
  -H "Content-Type: application/json" \
  -d '&#123;"username": "user", "password": "pass"&#125;'</code></pre>
				</div>
			</div>

			<div class="mb-6">
				<h3 class="text-lg font-semibold text-gray-800 mb-3">–í—Ö–æ–¥</h3>
				<div class="flex items-center gap-3 mb-4">
					<span class="px-3 py-1 bg-blue-600 text-white rounded text-sm font-semibold">POST</span>
					<code class="text-lg font-mono text-gray-800">/auth/login</code>
				</div>
				
				<div class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto">
					<pre class="text-sm"><code>curl -X POST http://localhost:6005/auth/login \
  -H "Content-Type: application/json" \
  -d '&#123;"username": "user", "password": "pass"&#125;'</code></pre>
				</div>

				<div class="mt-4 bg-green-50 p-4 rounded-lg">
					<p class="text-sm font-semibold text-green-900 mb-2">‚úì Response:</p>
					<pre class="text-sm text-green-800"><code>&#123;
  "token": "eyJhbGci...",
  "user": &#123;
    "username": "user",
    "role": "user"
  &#125;
&#125;</code></pre>
				</div>
			</div>
		</section>
	</main>

	<!-- Footer -->
	<footer class="bg-white border-t border-gray-200 mt-8">
		<div class="max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
			<div class="text-center text-gray-600">
				<p class="mb-2">
					<span class="text-green-600 font-semibold">GREEN-API QA TEAM</span> ¬© 2025
				</p>
				<div class="flex items-center justify-center gap-4 text-sm">
					<a href="/" class="hover:text-green-600 transition">–ì–ª–∞–≤–Ω–∞—è</a>
					<span>|</span>
					<a href="https://green-api.com" target="_blank" class="hover:text-green-600 transition">GREEN-API</a>
				</div>
			</div>
		</div>
	</footer>
</div>
